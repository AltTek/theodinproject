!function (t) { function e(e, r, n, i) { var l = t(); return t.each(o, function (t, o) { if (o.height() > 0) { var a = o.offset().top, s = o.offset().left, c = s + o.width(), u = a + o.height(), f = !(s > r || i > c || a > n || e > u); f && l.push(o) } }), l } function r(r) { ++s; var n = i.scrollTop(), o = i.scrollLeft(), a = o + i.width(), u = n + i.height(), f = e(n + c.top + r || 200, a + c.right, u + c.bottom, o + c.left); t.each(f, function (t, e) { var r = e.data("scrollSpy:ticks"); "number" != typeof r && e.triggerHandler("scrollSpy:enter"), e.data("scrollSpy:ticks", s) }), t.each(l, function (t, e) { var r = e.data("scrollSpy:ticks"); "number" == typeof r && r !== s && (e.triggerHandler("scrollSpy:exit"), e.data("scrollSpy:ticks", null)) }), l = f } function n() { i.trigger("scrollSpy:winSize") } var i = t(window), o = [], l = [], a = !1, s = 0, c = { top: 0, right: 0, bottom: 0, left: 0 }, u = Date.now || function () { return (new Date).getTime() }, f = function (t, e, r) { var n, i, o, l = null, a = 0; r || (r = {}); var s = function () { a = r.leading === !1 ? 0 : u(), l = null, o = t.apply(n, i), n = i = null }; return function () { var c = u(); a || r.leading !== !1 || (a = c); var f = e - (c - a); return n = this, i = arguments, 0 >= f ? (clearTimeout(l), l = null, a = c, o = t.apply(n, i), n = i = null) : l || r.trailing === !1 || (l = setTimeout(s, f)), o } }, h = function (t) { return t.replace(/(:|\.|\[|\]|,|=)/g, "\\$1") }; t.scrollSpy = function (e, n) { var l = { throttle: 100, scrollOffset: 200, activeClass: "active", getActiveElement: function (t) { return 'a[href="#' + t + '"]' } }; n = t.extend(l, n); var s = []; e = t(e), e.each(function (e, r) { o.push(t(r)), t(r).data("scrollSpy:id", e), t('a[href="#' + t(r).attr("id") + '"]').click(function (e) { e.preventDefault(); var r = t(h(this.hash)).offset().top + 1; t("html, body").animate({ scrollTop: r - n.scrollOffset }, { duration: 400, queue: !1, easing: "easeOutCubic" }) }) }), c.top = n.offsetTop || 0, c.right = n.offsetRight || 0, c.bottom = n.offsetBottom || 0, c.left = n.offsetLeft || 0; var u = f(function () { r(n.scrollOffset) }, n.throttle || 100), p = function () { t(document).ready(u) }; return a || (i.on("scroll", p), i.on("resize", p), a = !0), setTimeout(p, 0), e.on("scrollSpy:enter", function () { s = t.grep(s, function (t) { return 0 != t.height() }); var e = t(this); s[0] ? (t(n.getActiveElement(s[0].attr("id"))).removeClass(n.activeClass), e.data("scrollSpy:id") < s[0].data("scrollSpy:id") ? s.unshift(t(this)) : s.push(t(this))) : s.push(t(this)), t(n.getActiveElement(s[0].attr("id"))).addClass(n.activeClass) }), e.on("scrollSpy:exit", function () { if (s = t.grep(s, function (t) { return 0 != t.height() }), s[0]) { t(n.getActiveElement(s[0].attr("id"))).removeClass(n.activeClass); var e = t(this); s = t.grep(s, function (t) { return t.attr("id") != e.attr("id") }), s[0] && t(n.getActiveElement(s[0].attr("id"))).addClass(n.activeClass) } }), e }, t.winSizeSpy = function (e) { return t.winSizeSpy = function () { return i }, e = e || { throttle: 100 }, i.on("resize", f(n, e.throttle || 100)) }, t.fn.scrollSpy = function (e) { return t.scrollSpy(t(this), e) } }(jQuery);
